<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hacker Style Snake Game</title>

  <style>
  @font-face {
  font-family: 'Orbitron';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url('fonts/Orbitron.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, 
                 U+02BB-02BC, U+02C6, U+02DA, U+02DC, 
                 U+0304, U+0308, U+0329, U+2000-206F, 
                 U+20AC, U+2122, U+2191, U+2193, 
                 U+2212, U+2215, U+FEFF, U+FFFD;
}

    :root {
      --neon: #00ffcc;
      --accent: #00ccff;
      --accent2: #00ffff;
      --bg: rgba(0, 0, 0, 0.85);
    }
    * { box-sizing: border-box; margin: 0; padding: 0 }
    html, body { height: 100%; }
    body {
      font-family: 'Orbitron', monospace;
      color: var(--neon);
      background: transparent;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #vtm-matrix {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      background: black;
      z-index: -1;
      pointer-events: none;
    }

    #score {
      font-size: 28px;
      text-shadow: 0 0 10px var(--neon);
      margin: 20px 0;
    }

    #game-board {
      width: 400px;
      height: 400px;
      border: 2px solid var(--neon);
      background: rgba(0, 0, 0, 0.7) url('BoardBackground.png') center/cover no-repeat;
      box-shadow: 0 0 20px var(--neon);
      position: relative;
      margin-bottom: 20px;
    }

    .snake {
      width: 10px;
      height: 10px;
      background-color: var(--accent);
      position: absolute;
      border-radius: 2px;
      box-shadow: 0 0 8px var(--accent2);
    }
    #food {
      width: 10px;
      height: 10px;
      background-color: #ff00ff;
      position: absolute;
      border-radius: 50%;
      box-shadow: 0 0 8px #ff00ff;
    }

    .joystick { display: flex; flex-direction: column; align-items: center; }
    .buttons { display: flex; justify-content: center; margin: 5px; }
    button {
      background-color: var(--accent);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px;
      margin: 5px;
      cursor: pointer;
      font-size: 20px;
      font-family: 'Orbitron', monospace;
      box-shadow: 0 0 10px var(--accent);
      transition: 0.3s;
      width: 110px;
      height: 50px;
    }
    button:hover {
      background-color: var(--accent2);
      box-shadow: 0 0 15px var(--accent2);
    }
    .central-button {
      background-color: #ff00ff;
      color: black;
      font-size: 16px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      box-shadow: 0 0 10px #ff00ff;
    }
    .central-button:hover {
      background-color: #ff66ff;
      box-shadow: 0 0 15px #ff66ff;
    }

    #game-over-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.85);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    #game-over-message {
      background-color: rgba(0, 0, 0, 0.9);
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 0 20px var(--neon);
      border: 2px solid var(--neon);
    }
    #game-over-message h1 {
      font-size: 36px;
      color: var(--accent2);
      text-shadow: 0 0 10px var(--accent2);
    }
    #game-over-message p {
      font-size: 20px;
      margin-bottom: 20px;
      color: var(--neon);
    }
  </style>
</head>
<body>
<canvas id="vtm-matrix"></canvas>

<div id="score">Score: 0</div>
<div id="game-board"></div>

<div class="joystick">
  <div class="buttons">
    <button onclick="changeDirection('UP')">UP</button>
  </div>
  <div class="buttons">
    <button onclick="changeDirection('LEFT')">LEFT</button>
    <button class="central-button" onclick="initializeGame()">âšª</button>
    <button onclick="changeDirection('RIGHT')">RIGHT</button>
  </div>
  <div class="buttons">
    <button onclick="changeDirection('DOWN')">DOWN</button>
  </div>
</div>

<audio id="eat-sound" src="EatingSound.mp3" preload="auto"></audio>
<audio id="game-over-sound" src="GameOver.mp3" preload="auto"></audio>
<audio id="button-click-sound" src="rightButton.mp3" preload="auto"></audio>

<div id="game-over-overlay">
  <div id="game-over-message">
    <h1>GAME OVER</h1>
    <p>Your score: <span id="final-score"></span></p>
    <button onclick="restartGame()">Play Again</button>
  </div>
</div>

<script>
  const board = document.getElementById('game-board');
  const scoreDisplay = document.getElementById('score');
  const eatSound = document.getElementById('eat-sound');
  const gameOverSound = document.getElementById('game-over-sound');
  const buttonClickSound = document.getElementById('button-click-sound');
  const gameOverOverlay = document.getElementById('game-over-overlay');
  const finalScore = document.getElementById('final-score');

  let snakeBody, food, direction, score, gameOver, gameInterval;

  function initializeGame() {
    snakeBody = [{ x: 200, y: 200 }];
    food = { x: 0, y: 0 };
    direction = ''; // start paused so first input always works
    score = 0;
    gameOver = false;
    scoreDisplay.innerText = 'Score: 0';
    gameOverOverlay.style.display = 'none';
    generateFood();
    draw();
    if (gameInterval) clearInterval(gameInterval);
    gameInterval = setInterval(gameLoop, 100);
  }

  function generateFood() {
    do {
      food.x = Math.floor(Math.random() * 40) * 10;
      food.y = Math.floor(Math.random() * 40) * 10;
    } while (snakeBody.some(s => s.x === food.x && s.y === food.y));
  }

  function draw() {
    board.innerHTML = '';
    snakeBody.forEach(seg => {
      const el = document.createElement('div');
      el.style.left = seg.x + 'px';
      el.style.top = seg.y + 'px';
      el.classList.add('snake');
      board.appendChild(el);
    });
    const foodEl = document.createElement('div');
    foodEl.style.left = food.x + 'px';
    foodEl.style.top = food.y + 'px';
    foodEl.id = 'food';
    board.appendChild(foodEl);
  }

  function move() {
    if (!direction) return;
    const head = { x: snakeBody[0].x, y: snakeBody[0].y };
    if (direction === 'UP') head.y -= 10;
    if (direction === 'DOWN') head.y += 10;
    if (direction === 'LEFT') head.x -= 10;
    if (direction === 'RIGHT') head.x += 10;

    if (head.x < 0 || head.x >= 400 || head.y < 0 || head.y >= 400 ||
        snakeBody.some((s, i) => i !== 0 && s.x === head.x && s.y === head.y)) {
      gameOverSound.play().catch(()=>{});
      showGameOver();
      return;
    }
    snakeBody.unshift(head);
    if (head.x === food.x && head.y === food.y) {
      eatSound.play().catch(()=>{});
      score++;
      scoreDisplay.innerText = 'Score: ' + score;
      generateFood();
    } else {
      snakeBody.pop();
    }
  }

  function changeDirection(newDirection) {
    if (gameOver) return;
    
       // Play button click sound
    const buttonClickSound = document.getElementById('button-click-sound');
    buttonClickSound.currentTime = 0; 
    buttonClickSound.play().catch(error => {
    });
    
    buttonClickSound.play().catch(()=>{});
    if (newDirection === 'UP' && direction !== 'DOWN') direction = 'UP';
    if (newDirection === 'DOWN' && direction !== 'UP') direction = 'DOWN';
    if (newDirection === 'LEFT' && direction !== 'RIGHT') direction = 'LEFT';
    if (newDirection === 'RIGHT' && direction !== 'LEFT') direction = 'RIGHT';
  }

  function gameLoop() {
    if (!gameOver) {
      move();
      draw();
    }
  }

  function showGameOver() {
    gameOver = true;
    clearInterval(gameInterval);
    finalScore.innerText = score;
    gameOverOverlay.style.display = 'flex';
  }

  function restartGame() { initializeGame(); }

  // Keyboard support
  document.addEventListener('keydown', e => {
    if (e.key === 'ArrowUp') changeDirection('UP');
    if (e.key === 'ArrowDown') changeDirection('DOWN');
    if (e.key === 'ArrowLeft') changeDirection('LEFT');
    if (e.key === 'ArrowRight') changeDirection('RIGHT');
  });

  window.onload = initializeGame;
</script>

<script>
  const vtmCanvas = document.getElementById('vtm-matrix');
  const vtmCtx = vtmCanvas.getContext('2d');
  function vtmResize(){ vtmCanvas.width = innerWidth; vtmCanvas.height = innerHeight }
  addEventListener('resize', vtmResize); vtmResize();
  const vtmChars = "01".split(""); const vtmFont = 14;
  function vtmMakeDrops(){ return Array(Math.floor(vtmCanvas.width / vtmFont)).fill(1) }
  let vtmDrops = vtmMakeDrops();
  function vtmDraw(){
    vtmCtx.fillStyle = "rgba(0,0,0,0.05)";
    vtmCtx.fillRect(0,0,vtmCanvas.width,vtmCanvas.height);
    vtmCtx.fillStyle = "#00ffcc";
    vtmCtx.font = vtmFont + "px monospace";
    for(let i=0;i<vtmDrops.length;i++){
      const t = vtmChars[Math.random()*vtmChars.length|0];
      vtmCtx.fillText(t, i*vtmFont, vtmDrops[i]*vtmFont);
      if(vtmDrops[i]*vtmFont > vtmCanvas.height && Math.random() > 0.975) vtmDrops[i]=0;
      vtmDrops[i]++;
    }
  }
  setInterval(vtmDraw, 33);
  addEventListener('resize', ()=>{ vtmDrops = vtmMakeDrops(); });
</script>
</body>
</html>
